<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> php mysqlæ‰¹é‡æ’å…¥ Â· Leo's Blog</title><meta name="description" content="php mysqlæ‰¹é‡æ’å…¥ - Tauleos"><meta name="google-site-verification" content="y-sRxe2Toq8nFRU8PiEYywkdUoWdk_UYysZDKbnM7Ck"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://tauleos.github.io/atom.xml" title="Leo's Blog"><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Leo's Blog" type="application/atom+xml">
</head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">HOME</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVES</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">TAGS</a></li><li class="nav-list-item"><a href="https://github.com/Tauleos" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">php mysqlæ‰¹é‡æ’å…¥</h1><div class="post-info">2017å¹´10æœˆ1æ—¥</div><div class="post-content"><h2 id="ä¸€ã€Insert-Intoï¼š"><a href="#ä¸€ã€Insert-Intoï¼š" class="headerlink" title="ä¸€ã€Insert Intoï¼š"></a>ä¸€ã€Insert Intoï¼š</h2><blockquote>
<p>ä½¿ç”¨<code>insert into</code> æ’å…¥ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
</blockquote>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">$params = <span class="keyword">array</span>(â€˜valueâ€™=&gt;â€™<span class="number">50</span>â€²);</span><br><span class="line">set_time_limit(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">echo</span> date(â€œH:i:sâ€);</span><br><span class="line"><span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="number">2000000</span>;$i++)&#123;</span><br><span class="line">  $connect_mysql-&gt;insert($params);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">echo</span> date(â€œH:i:sâ€); </span><br></pre></td></tr></table></figure>
<div class="tip">æœ€åæ˜¾ç¤ºä¸ºï¼š**23:25:05 01:32:05**, ã€‚ã€‚ã€‚ã€‚ã€‚ ä¹Ÿå°±æ˜¯èŠ±äº†2ä¸ªå°æ—¶å¤š! ğŸ˜¢</div>

<h2 id="äºŒã€äº‹åŠ¡"><a href="#äºŒã€äº‹åŠ¡" class="headerlink" title="äºŒã€äº‹åŠ¡"></a>äºŒã€äº‹åŠ¡</h2><blockquote>
<p>ä½¿ç”¨äº‹åŠ¡æäº¤ï¼Œæ‰¹é‡æ’å…¥æ•°æ®åº“(æ¯éš”10Wæ¡æäº¤ä¸‹),ä»£ç å¦‚ä¸‹ï¼š</p>
</blockquote>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">echo</span> date(â€œH:i:sâ€); </span><br><span class="line">$connect_mysql-&gt;query(â€˜BEGINâ€™);</span><br><span class="line">$params = <span class="keyword">array</span>(â€˜valueâ€™=&gt;â€™<span class="number">50</span>â€²);</span><br><span class="line"><span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="number">2000000</span>;$i++)&#123;</span><br><span class="line">  $connect_mysql-&gt;insert($params);</span><br><span class="line">  <span class="keyword">if</span>($i%<span class="number">100000</span>==<span class="number">0</span>)&#123;</span><br><span class="line">    $connect_mysql-&gt;query(â€˜COMMITâ€™);$connect_mysql-&gt;query(â€˜BEGINâ€™);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">$connect_mysql-&gt;query(â€˜COMMITâ€™);</span><br><span class="line"><span class="keyword">echo</span> date(â€œH:i:sâ€); </span><br></pre></td></tr></table></figure>
<div class="tip">æœ€åæ˜¾ç¤ºæ¶ˆè€—çš„æ—¶é—´ä¸ºï¼š**22:56:13 23:04:00**ï¼Œä¸€å…±8åˆ†13ç§’.
å¥½åƒå¿«äº†ä¸å°‘ã€‚ã€‚</div>

<h2 id="ä¸‰ã€ä¼˜åŒ–SQLè¯­å¥"><a href="#ä¸‰ã€ä¼˜åŒ–SQLè¯­å¥" class="headerlink" title="ä¸‰ã€ä¼˜åŒ–SQLè¯­å¥"></a>ä¸‰ã€ä¼˜åŒ–SQLè¯­å¥</h2><blockquote>
<p>ä½¿ç”¨ä¼˜åŒ–SQLè¯­å¥ï¼šå°†SQLè¯­å¥è¿›è¡Œæ‹¼æ¥ï¼Œä½¿ç”¨ <code>insert into table () values  (),(),(),()</code>ç„¶åå†ä¸€æ¬¡æ€§æ’å…¥ï¼Œ</p>
<blockquote>
<p>å¦‚æœå­—ç¬¦ä¸²å¤ªé•¿ï¼Œåˆ™éœ€è¦é…ç½®ä¸‹MYSQLï¼Œåœ¨mysql å‘½ä»¤è¡Œä¸­è¿è¡Œ ï¼š</p>
</blockquote>
</blockquote>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span> global max_allowed_packet =  2*1024*1024*10;</span><br></pre></td></tr></table></figure>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">$sql= â€œinsert into twenty_million (value) valuesâ€; <span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="number">2000000</span>;$i++)&#123; </span><br><span class="line">  $sql.=â€(â€™<span class="number">50</span>â€²),â€; </span><br><span class="line">&#125;; </span><br><span class="line">$sql = substr($sql,<span class="number">0</span>,strlen($sql)<span class="number">-1</span>); $connect_mysql-&gt;query($sql); </span><br></pre></td></tr></table></figure>
<div class="tip">
æ¶ˆè€—æ—¶é—´ä¸ºï¼š11:24:06 11:25:06;
æ’å…¥200Wæ¡æµ‹è¯•æ•°æ®ä»…ä»…ç”¨äº†1åˆ†é’Ÿ!
</div>

<h2 id="å››ã€ç»“è®º"><a href="#å››ã€ç»“è®º" class="headerlink" title="å››ã€ç»“è®º"></a>å››ã€ç»“è®º</h2><p>åœ¨æ’å…¥å¤§æ‰¹é‡æ•°æ®æ—¶ï¼Œç¬¬ä¸€ç§æ–¹æ³•æ— ç–‘æ˜¯æœ€å·®åŠ²çš„ï¼Œè€Œç¬¬äºŒç§æ–¹æ³•åœ¨å®é™…åº”ç”¨ä¸­å°±æ¯”è¾ƒå¹¿æ³›ï¼Œç¬¬ä¸‰ç§æ–¹æ³•åœ¨æ’å…¥æµ‹è¯•æ•°æ®æˆ–è€…å…¶ä»–ä½è¦æ±‚æ—¶æ¯”è¾ƒåˆé€‚ï¼Œé€Ÿåº¦ç¡®å®å¿«ã€‚</p>
</div></article></div></main><footer><div class="paginator"><a href="/c60b11b049f3.html" class="prev">ä¸Šä¸€ç¯‡</a><a href="/11263d42178f.html" class="next">ä¸‹ä¸€ç¯‡</a></div><div id="gitalk-container"></div><script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js" async></script><script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.10.0/js/md5.min.js" async></script><script>var ds = document.createElement('link');
ds.rel = 'stylesheet';ds.async = true;
ds.href = 'https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css';
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
window.onload = function() {
  var gitalk = new Gitalk({
    clientID: '62e01f3aa3f140c5af8a',
    clientSecret: '8f02698609ba488706c5e67839f0bbf46861554f',
    repo: 'Tauleos.github.io',
    owner: 'Tauleos',
    admin: ['Tauleos'],
    id: md5(window.location.pathname),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })
  gitalk.render('gitalk-container');
}</script><div class="copyright"><p id="host_by"><span id="busuanzi_container_site_pv">&nbsp;æœ¬ç«™æ€»è®¿é—®é‡ &nbsp;<span id="busuanzi_value_site_pv"><i class="fa fa-spinner"></i></span> æ¬¡,</span><span id="busanzi_container_site_uv">&nbsp;æœ¬ç«™æ€»è®¿é—®äººæ•° &nbsp;<span id="busuanzi_value_site_uv"><i class="fa fa-spinner"></i></span> æ¬¡.</span></p><p>Â© 2017 - 2020 created by <a href="https://tauleos.github.io">Tauleos</a>,Looking for better life and peace.</p><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script></div></footer></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>